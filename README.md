# Telegram Bot with Mistral AI Integration

Этот проект представляет собой Telegram-бота, который использует Mistral AI для генерации ответов на сообщения пользователей. Бот поддерживает текстовые и голосовые сообщения, а также интеграцию с внешними API (например, OpenWeather).

## Основные функции

- **Ответы на текстовые сообщения**: Бот использует Mistral AI для генерации ответов.
- **Обработка голосовых сообщений**: Бот распознаёт речь и отвечает на голосовые сообщения.
- **Команды**:
  - `/start` — начать диалог.
  - `/clear` — очистить историю разговора.
  - `/weather <город>` — показать погоду в указанном городе.
- **Интеграция с Mistral AI**: Бот использует Mistral AI API для генерации ответов.
- **Поддержка контекста**: Бот запоминает историю разговора для более осмысленного диалога.

## Установка и запуск

1. **Клонируйте репозиторий**:
   ```bash
   git clone https://github.com/ваш-username/ваш-репозиторий.git
   cd ваш-репозиторий
   ```

2. **Установите зависимости**:
   ```bash
   pip install -r requirements.txt
   ```

3. **Создайте файл `.env`**:
   Создайте файл `.env` в корне проекта и добавьте туда ваши API ключи:
   ```plaintext
   TELEGRAM_TOKEN=ваш_токен_телеграм_бота
   MISTRAL_API_KEY=ваш_api_ключ_mistral
   MISTRAL_API_URL=https://api.mistral.ai/v1/chat/completions
   OPENWEATHER_API_KEY=ваш_api_ключ_openweather
   ```

4. **Запустите бота**:
   ```bash
   python main.py
   ```

## Структура проекта

```
telegram_bot/
│
├── main.py                # Основной файл для запуска бота
├── handlers/              # Папка с обработчиками команд и сообщений
│   ├── __init__.py
│   ├── start.py           # Обработчик команды /start
│   ├── chat.py            # Обработчик текстовых сообщений
│   ├── weather.py         # Обработчик команды /weather
│   └── voice.py           # Обработчик голосовых сообщений
│
├── services/              # Папка с сервисами (API, база данных и т.д.)
│   ├── __init__.py
│   ├── mistral_api.py     # Логика для работы с Mistral AI API
│   ├── openweather.py     # Логика для работы с OpenWeather API
│   └── database.py        # Логика для работы с базой данных
│
├── utils/                 # Папка с вспомогательными функциями
│   ├── __init__.py
│   ├── logging.py         # Настройка логирования
│   └── helpers.py         # Вспомогательные функции
│
├── .env                   # Файл с переменными окружения (не добавляйте его в Git!)
├── .gitignore             # Файл для игнорирования ненужных файлов
├── README.md              # Описание проекта
└── LICENSE                # Лицензия проекта
```

## Используемые технологии

- **Python**: Основной язык программирования.
- **python-telegram-bot**: Библиотека для работы с Telegram Bot API.
- **Mistral AI**: API для генерации текста.
- **OpenWeather API**: API для получения данных о погоде.
- **SpeechRecognition**: Библиотека для распознавания речи.

## Лицензия

Этот проект распространяется под лицензией MIT. См. файл [LICENSE](LICENSE) для подробностей.
